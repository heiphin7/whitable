<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Whitable - Find Your Perfect Restaurant</title>
    <link rel="stylesheet" href="/css/restaurants.css">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
<header class="header">
    <nav class="nav-container">
        <a href="/" class="logo">Whitable</a>
        <ul class="nav-links">
            <li><a href="/">Home</a></li>
            <li><a href="/restaurants.html" class="active">Restaurants</a></li>
            <li><a href="/auth.html">Sign In</a></li>
        </ul>
    </nav>
</header>

<main class="restaurants-container">
    <aside class="filters-sidebar">
        <div class="filters-section">
            <h2>Filters</h2>

            <div class="filter-group">
                <h3>Cuisine Type</h3>
                <div class="checkbox-group">
                    <label><input type="checkbox" name="cuisine" value="Итальянская"> Итальянская</label>
                    <label><input type="checkbox" name="cuisine" value="Японская"> Японская</label>
                    <label><input type="checkbox" name="cuisine" value="Мексиканская"> Мексиканская</label>
                    <label><input type="checkbox" name="cuisine" value="Китайская"> Китайская</label>
                    <label><input type="checkbox" name="cuisine" value="Французская"> Французская</label>
                    <label><input type="checkbox" name="cuisine" value="Французская"> Испанская</label>
                    <label><input type="checkbox" name="cuisine" value="Французская"> Американская</label>
                </div>
            </div>

            <div class="filter-group">
                <h3>Price Range</h3>
                <div class="checkbox-group">
                    <label><input type="checkbox" name="price" value="$"> $ (Under $30)</label>
                    <label><input type="checkbox" name="price" value="$$"> $$ ($31-$60)</label>
                    <label><input type="checkbox" name="price" value="$$$"> $$$ ($61-$100)</label>
                    <label><input type="checkbox" name="price" value="$$$$"> $$$$ (Above $100)</label>
                </div>
            </div>

            <div class="filter-group">
                <h3>Rating</h3>
                <div class="checkbox-group">
                    <label><input type="checkbox" name="rating" value="5"> 5 Stars</label>
                    <label><input type="checkbox" name="rating" value="4"> 4+ Stars</label>
                    <label><input type="checkbox" name="rating" value="3"> 3+ Stars</label>
                </div>
            </div>

            <div class="filter-group">
                <h3>Features</h3>
                <div class="checkbox-group">
                    <label><input type="checkbox" name="features" value="Уличные Сиденья"> Уличные Сиденья</label>
                    <label><input type="checkbox" name="features" value="Парковка"> Парковка</label>
                    <label><input type="checkbox" name="features" value="Wi-Fi"> Wi-Fi</label>
                    <label><input type="checkbox" name="features" value="Доставка"> Доставка</label>
                    <label><input type="checkbox" name="features" value="Самовывоз"> Самовывоз</label>
                </div>
            </div>
        </div>

        <div class="sort-section">
            <h2>Sort By</h2>
            <select id="sortSelect" class="sort-select">
                <option value="rating-desc">Rating (High to Low)</option>
                <option value="rating-asc">Rating (Low to High)</option>
                <option value="price-desc">Price (High to Low)</option>
                <option value="price-asc">Price (Low to High)</option>
                <option value="name-asc">Name (A-Z)</option>
                <option value="name-desc">Name (Z-A)</option>
            </select>
        </div>
    </aside>

    <section class="restaurants-list">
        <div class="restaurants-header">
            <h1>Restaurants in New York</h1>
            <p class="results-count">Showing <span id="restaurantCount">8</span> restaurants</p>

            <th:block th:if="${isAdmin}">
                <!-- Кнопка "Плюс" для открытия модального окна -->
                <button
                        id="addRestaurantBtn"
                        class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-full transition-colors duration-300"
                        type="button"
                >
                    +
                </button>

                <!-- Модальное окно (по умолчанию скрыто) -->
                <div
                        id="createRestaurantModal"
                        class="hidden fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center z-1050"
                >
                <!-- Вложенный контейнер для формы -->
                    <div class="bg-white rounded-lg shadow-lg w-full max-w-2xl p-6 relative">
                        <!-- Кнопка закрытия -->
                        <button
                                id="closeModalBtn"
                                type="button"
                                class="absolute top-4 right-4 text-gray-600 hover:text-gray-800 text-xl font-bold"
                        >
                            &times;
                        </button>

                        <h2 class="text-xl font-bold mb-4 text-gray-700">Create New Restaurant</h2>

                        <!-- Форма для создания ресторана -->
                        <form
                                id="createRestaurantForm"
                                th:action="@{/restaurant/create}"
                                method="post"
                                enctype="multipart/form-data"
                                class="space-y-4"
                        >
                            <!-- 1) Основные поля -->
                            <div>
                                <label class="block mb-1 font-semibold text-gray-600">Name</label>
                                <input
                                        type="text"
                                        name="name"
                                        class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:border-blue-500"
                                        required
                                />
                            </div>

                            <div>
                                <label class="block mb-1 font-semibold text-gray-600">Description</label>
                                <textarea
                                        name="description"
                                        rows="3"
                                        class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:border-blue-500"
                                ></textarea>
                            </div>

                            <div>
                                <label class="block mb-1 font-semibold text-gray-600">Opening Hours</label>
                                <!-- Контейнер для динамического добавления дней -->
                                <div class="opening-hours grid grid-cols-1 gap-4">
                                    <!-- Понедельник -->
                                    <div class="flex flex-wrap items-center gap-4">
                                        <label for="mondayStart" class="w-32 font-medium text-gray-700">Понедельник:</label>

                                        <span class="text-gray-600">ОТ</span>
                                        <select id="mondayStart" name="openingHours[Monday][start]" class="w-32 px-2 py-1 border rounded-md" required>
                                            <option value="">Выберите...</option>
                                            <option value="00:00">00:00</option>
                                            <option value="01:00">01:00</option>
                                            <option value="02:00">02:00</option>
                                            <option value="03:00">03:00</option>
                                            <option value="04:00">04:00</option>
                                            <option value="05:00">05:00</option>
                                            <option value="06:00">06:00</option>
                                            <option value="07:00">07:00</option>
                                            <option value="08:00">08:00</option>
                                            <option value="09:00">09:00</option>
                                            <option value="10:00">10:00</option>
                                            <option value="11:00">11:00</option>
                                        </select>

                                        <span class="text-gray-600">до</span>
                                        <select id="mondayEnd" name="openingHours[Monday][end]" class="w-32 px-2 py-1 border rounded-md" required>
                                            <option value="">Выберите...</option>
                                            <option value="00:00">00:00</option>
                                            <option value="01:00">01:00</option>
                                            <option value="02:00">02:00</option>
                                            <option value="03:00">03:00</option>
                                            <option value="04:00">04:00</option>
                                            <option value="05:00">05:00</option>
                                            <option value="06:00">06:00</option>
                                            <option value="07:00">07:00</option>
                                            <option value="08:00">08:00</option>
                                            <option value="09:00">09:00</option>
                                            <option value="10:00">10:00</option>
                                            <option value="11:00">11:00</option>
                                        </select>

                                        <!-- Closed checkbox -->
                                        <label class="flex items-center gap-2 text-red-600 font-medium">
                                            <input type="checkbox" id="mondayClosed" name="openingHours[Monday][closed]" value="true">
                                            Закрыто
                                        </label>
                                    </div>

                                    <!-- Вторник -->
                                    <div class="flex flex-wrap items-center gap-4">
                                        <label for="tuesdayStart" class="w-32 font-medium text-gray-700">Вторник:</label>
                                        <span class="text-gray-600">От</span>
                                        <select id="tuesdayStart" name="openingHours[Tuesday][start]" required class="w-32 px-2 py-1 border border-gray-300 rounded-md">
                                            <option value="">Выберите...</option>
                                            <option value="00:00">00:00</option>
                                            <option value="01:00">01:00</option>
                                            <option value="02:00">02:00</option>
                                            <option value="03:00">03:00</option>
                                            <option value="04:00">04:00</option>
                                            <option value="05:00">05:00</option>
                                            <option value="06:00">06:00</option>
                                            <option value="07:00">07:00</option>
                                            <option value="08:00">08:00</option>
                                            <option value="09:00">09:00</option>
                                            <option value="10:00">10:00</option>
                                            <option value="11:00">11:00</option>
                                        </select>
                                        <span class="text-gray-600">до</span>
                                        <select id="tuesdayEnd" name="openingHours[Tuesday][end]" required class="w-32 px-2 py-1 border border-gray-300 rounded-md">
                                            <option value="">Выберите...</option>
                                            <option value="00:00">00:00</option>
                                            <option value="01:00">01:00</option>
                                            <option value="02:00">02:00</option>
                                            <option value="03:00">03:00</option>
                                            <option value="04:00">04:00</option>
                                            <option value="05:00">05:00</option>
                                            <option value="06:00">06:00</option>
                                            <option value="07:00">07:00</option>
                                            <option value="08:00">08:00</option>
                                            <option value="09:00">09:00</option>
                                            <option value="10:00">10:00</option>
                                            <option value="11:00">11:00</option>
                                        </select>

                                        <label class="flex items-center gap-2 text-red-600 font-medium">
                                            <input type="checkbox" id="tuesdayClosed" name="openingHours[Tuesday][closed]" value="true">
                                            Закрыто
                                        </label>
                                    </div>

                                    <!-- Среда -->
                                    <div class="flex flex-wrap items-center gap-4">
                                        <label for="wednesdayStart" class="w-32 font-medium text-gray-700">Среда:</label>
                                        <span class="text-gray-600">От</span>
                                        <select id="wednesdayStart" name="openingHours[Wednesday][start]" required class="w-32 px-2 py-1 border border-gray-300 rounded-md">
                                            <option value="">Выберите...</option>
                                            <option value="00:00">00:00</option>
                                            <option value="01:00">01:00</option>
                                            <option value="02:00">02:00</option>
                                            <option value="03:00">03:00</option>
                                            <option value="04:00">04:00</option>
                                            <option value="05:00">05:00</option>
                                            <option value="06:00">06:00</option>
                                            <option value="07:00">07:00</option>
                                            <option value="08:00">08:00</option>
                                            <option value="09:00">09:00</option>
                                            <option value="10:00">10:00</option>
                                            <option value="11:00">11:00</option>
                                        </select>
                                        <span class="text-gray-600">до</span>
                                        <select id="wednesdayEnd" name="openingHours[Wednesday][end]" required class="w-32 px-2 py-1 border border-gray-300 rounded-md">
                                            <option value="">Выберите...</option>
                                            <option value="00:00">00:00</option>
                                            <option value="01:00">01:00</option>
                                            <option value="02:00">02:00</option>
                                            <option value="03:00">03:00</option>
                                            <option value="04:00">04:00</option>
                                            <option value="05:00">05:00</option>
                                            <option value="06:00">06:00</option>
                                            <option value="07:00">07:00</option>
                                            <option value="08:00">08:00</option>
                                            <option value="09:00">09:00</option>
                                            <option value="10:00">10:00</option>
                                            <option value="11:00">11:00</option>
                                        </select>

                                        <label class="flex items-center gap-2 text-red-600 font-medium">
                                            <input type="checkbox" id="wednesdayClosed" name="openingHours[Wednesday][closed]" value="true">
                                            Закрыто
                                        </label>
                                    </div>

                                    <!-- Четверг -->
                                    <div class="flex flex-wrap items-center gap-4">
                                        <label for="thursdayStart" class="w-32 font-medium text-gray-700">Четверг:</label>
                                        <span class="text-gray-600">От</span>
                                        <select id="thursdayStart" name="openingHours[Thursday][start]" required class="w-32 px-2 py-1 border border-gray-300 rounded-md">
                                            <option value="">Выберите...</option>
                                            <option value="00:00">00:00</option>
                                            <option value="01:00">01:00</option>
                                            <option value="02:00">02:00</option>
                                            <option value="03:00">03:00</option>
                                            <option value="04:00">04:00</option>
                                            <option value="05:00">05:00</option>
                                            <option value="06:00">06:00</option>
                                            <option value="07:00">07:00</option>
                                            <option value="08:00">08:00</option>
                                            <option value="09:00">09:00</option>
                                            <option value="10:00">10:00</option>
                                            <option value="11:00">11:00</option>
                                        </select>
                                        <span class="text-gray-600">до</span>
                                        <select id="thursdayEnd" name="openingHours[Thursday][end]" required class="w-32 px-2 py-1 border border-gray-300 rounded-md">
                                            <option value="">Выберите...</option>
                                            <option value="00:00">00:00</option>
                                            <option value="01:00">01:00</option>
                                            <option value="02:00">02:00</option>
                                            <option value="03:00">03:00</option>
                                            <option value="04:00">04:00</option>
                                            <option value="05:00">05:00</option>
                                            <option value="06:00">06:00</option>
                                            <option value="07:00">07:00</option>
                                            <option value="08:00">08:00</option>
                                            <option value="09:00">09:00</option>
                                            <option value="10:00">10:00</option>
                                            <option value="11:00">11:00</option>
                                        </select>

                                        <label class="flex items-center gap-2 text-red-600 font-medium">
                                            <input type="checkbox" id="thursdayClosed" name="openingHours[Thursday][closed]" value="true">
                                            Закрыто
                                        </label>
                                    </div>

                                    <!-- Пятница -->
                                    <div class="flex flex-wrap items-center gap-4">
                                        <label for="fridayStart" class="w-32 font-medium text-gray-700">Пятница:</label>
                                        <span class="text-gray-600">От</span>
                                        <select id="fridayStart" name="openingHours[Friday][start]" required class="w-32 px-2 py-1 border border-gray-300 rounded-md">
                                            <option value="">Выберите...</option>
                                            <option value="00:00">00:00</option>
                                            <option value="01:00">01:00</option>
                                            <option value="02:00">02:00</option>
                                            <option value="03:00">03:00</option>
                                            <option value="04:00">04:00</option>
                                            <option value="05:00">05:00</option>
                                            <option value="06:00">06:00</option>
                                            <option value="07:00">07:00</option>
                                            <option value="08:00">08:00</option>
                                            <option value="09:00">09:00</option>
                                            <option value="10:00">10:00</option>
                                            <option value="11:00">11:00</option>
                                        </select>
                                        <span class="text-gray-600">до</span>
                                        <select id="fridayEnd" name="openingHours[Friday][end]" required class="w-32 px-2 py-1 border border-gray-300 rounded-md">
                                            <option value="">Выберите...</option>
                                            <option value="00:00">00:00</option>
                                            <option value="01:00">01:00</option>
                                            <option value="02:00">02:00</option>
                                            <option value="03:00">03:00</option>
                                            <option value="04:00">04:00</option>
                                            <option value="05:00">05:00</option>
                                            <option value="06:00">06:00</option>
                                            <option value="07:00">07:00</option>
                                            <option value="08:00">08:00</option>
                                            <option value="09:00">09:00</option>
                                            <option value="10:00">10:00</option>
                                            <option value="11:00">11:00</option>
                                        </select>

                                        <label class="flex items-center gap-2 text-red-600 font-medium">
                                            <input type="checkbox" id="fridayClosed" name="openingHours[Friday][closed]" value="true">
                                            Закрыто
                                        </label>
                                    </div>

                                    <!-- Суббота -->
                                    <div class="flex flex-wrap items-center gap-4">
                                        <label for="saturdayStart" class="w-32 font-medium text-gray-700">Суббота:</label>
                                        <span class="text-gray-600">От</span>
                                        <select id="saturdayStart" name="openingHours[Saturday][start]" required class="w-32 px-2 py-1 border border-gray-300 rounded-md">
                                            <option value="">Выберите...</option>
                                            <option value="00:00">00:00</option>
                                            <option value="01:00">01:00</option>
                                            <option value="02:00">02:00</option>
                                            <option value="03:00">03:00</option>
                                            <option value="04:00">04:00</option>
                                            <option value="05:00">05:00</option>
                                            <option value="06:00">06:00</option>
                                            <option value="07:00">07:00</option>
                                            <option value="08:00">08:00</option>
                                            <option value="09:00">09:00</option>
                                            <option value="10:00">10:00</option>
                                            <option value="11:00">11:00</option>
                                        </select>
                                        <span class="text-gray-600">до</span>
                                        <select id="saturdayEnd" name="openingHours[Saturday][end]" required class="w-32 px-2 py-1 border border-gray-300 rounded-md">
                                            <option value="">Выберите...</option>
                                            <option value="00:00">00:00</option>
                                            <option value="01:00">01:00</option>
                                            <option value="02:00">02:00</option>
                                            <option value="03:00">03:00</option>
                                            <option value="04:00">04:00</option>
                                            <option value="05:00">05:00</option>
                                            <option value="06:00">06:00</option>
                                            <option value="07:00">07:00</option>
                                            <option value="08:00">08:00</option>
                                            <option value="09:00">09:00</option>
                                            <option value="10:00">10:00</option>
                                            <option value="11:00">11:00</option>
                                        </select>

                                        <label class="flex items-center gap-2 text-red-600 font-medium">
                                            <input type="checkbox" id="saturdayClosed" name="openingHours[Saturday][closed]" value="true">
                                            Закрыто
                                        </label>
                                    </div>

                                    <!-- Воскресенье -->
                                    <div class="flex flex-wrap items-center gap-4">
                                        <label for="sundayStart" class="w-32 font-medium text-gray-700">Воскресенье:</label>
                                        <span class="text-gray-600">От</span>
                                        <select id="sundayStart" name="openingHours[Sunday][start]" required class="w-32 px-2 py-1 border border-gray-300 rounded-md">
                                            <option value="">Выберите...</option>
                                            <option value="00:00">00:00</option>
                                            <option value="01:00">01:00</option>
                                            <option value="02:00">02:00</option>
                                            <option value="03:00">03:00</option>
                                            <option value="04:00">04:00</option>
                                            <option value="05:00">05:00</option>
                                            <option value="06:00">06:00</option>
                                            <option value="07:00">07:00</option>
                                            <option value="08:00">08:00</option>
                                            <option value="09:00">09:00</option>
                                            <option value="10:00">10:00</option>
                                            <option value="11:00">11:00</option>
                                        </select>
                                        <span class="text-gray-600">до</span>
                                        <select id="sundayEnd" name="openingHours[Sunday][end]" required class="w-32 px-2 py-1 border border-gray-300 rounded-md">
                                            <option value="">Выберите...</option>
                                            <option value="00:00">00:00</option>
                                            <option value="01:00">01:00</option>
                                            <option value="02:00">02:00</option>
                                            <option value="03:00">03:00</option>
                                            <option value="04:00">04:00</option>
                                            <option value="05:00">05:00</option>
                                            <option value="06:00">06:00</option>
                                            <option value="07:00">07:00</option>
                                            <option value="08:00">08:00</option>
                                            <option value="09:00">09:00</option>
                                            <option value="10:00">10:00</option>
                                            <option value="11:00">11:00</option>
                                        </select>

                                        <label class="flex items-center gap-2 text-red-600 font-medium">
                                            <input type="checkbox" id="sundayClosed" name="openingHours[Sunday][closed]" value="true">
                                            Закрыто
                                        </label>
                                    </div>
                                </div>

                                <p id="hoursError" class="text-red-600 font-semibold text-base mt-4 mb-2 hidden">
                                    Ресторан должен работать хотя бы в один день.
                                </p>

                            </div>

                            <div>
                                <label class="block mb-1 font-semibold text-gray-600">Address</label>
                                <input
                                        type="text"
                                        name="address"
                                        class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:border-blue-500"
                                />
                            </div>

                            <div>
                                <label class="block mb-1 font-semibold text-gray-600">Phone Number</label>
                                <input
                                        type="text"
                                        name="phoneNumber"
                                        class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:border-blue-500"
                                />
                            </div>

                            <div>
                                <label class="block mb-1 font-semibold text-gray-600">Average Check</label>
                                <input
                                        type="number"
                                        name="averageCheck"
                                        class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:border-blue-500"
                                />
                            </div>

                            <div>
                                <label class="block mb-1 font-semibold text-gray-600">Capacity For Hour</label>
                                <input
                                        type="number"
                                        name="capacityForHour"
                                        class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:border-blue-500"
                                        required
                                />
                            </div>

                            <div>
                                <label class="block mb-1 font-semibold text-gray-600">URL to Restaurant</label>
                                <input
                                        type="text"
                                        name="urlToRestaurant"
                                        placeholder="https://..."
                                        class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:border-blue-500"
                                />
                            </div>

                            <div>
                                <label class="block mb-1 font-semibold text-gray-600">Upload Photo</label>
                                <input
                                        type="file"
                                        name="file"
                                        accept="image/*"
                                        class="w-full"
                                />
                            </div>

                            <!-- 2) Выбор удобств (facilities) с помощью чекбоксов -->
                            <div>
                                <label class="block mb-1 font-semibold text-gray-600">Facilities</label>
                                <div class="flex flex-wrap gap-4 mt-2">
                                    <label class="flex items-center">
                                        <input type="checkbox" name="facilities" value="Уличные сиденья" class="mr-2" />
                                        Уличные сиденья
                                    </label>
                                    <label class="flex items-center">
                                        <input type="checkbox" name="facilities" value="Парковка" class="mr-2" />
                                        Парковка
                                    </label>
                                    <label class="flex items-center">
                                        <input type="checkbox" name="facilities" value="Wi-Fi" class="mr-2" />
                                        Wi-Fi
                                    </label>
                                    <label class="flex items-center">
                                        <input type="checkbox" name="facilities" value="Доставка" class="mr-2" />
                                        Доставка
                                    </label>
                                    <label class="flex items-center">
                                        <input type="checkbox" name="facilities" value="Самовывоз" class="mr-2" />
                                        Самовывоз
                                    </label>
                                </div>
                            </div>

                            <!-- 3) Выбор типов кухонь (cuisineTypes) с помощью чекбоксов -->
                            <div>
                                <label class="block mb-1 font-semibold text-gray-600">Cuisine Type</label>
                                <div class="flex flex-wrap gap-4 mt-2">
                                    <label class="flex items-center">
                                        <input type="radio" name="cuisineType" value="Итальянская" class="mr-2" required />
                                        Итальянская
                                    </label>
                                    <label class="flex items-center">
                                        <input type="radio" name="cuisineType" value="Китайская" class="mr-2" />
                                        Китайская
                                    </label>
                                    <label class="flex items-center">
                                        <input type="radio" name="cuisineType" value="Французская" class="mr-2" />
                                        Французская
                                    </label>
                                    <label class="flex items-center">
                                        <input type="radio" name="cuisineType" value="Японская" class="mr-2" />
                                        Японская
                                    </label>
                                    <label class="flex items-center">
                                        <input type="radio" name="cuisineType" value="Мексиканская" class="mr-2" />
                                        Мексиканская
                                    </label>
                                    <label class="flex items-center">
                                        <input type="radio" name="cuisineType" value="Американская" class="mr-2" />
                                        Американская
                                    </label>
                                </div>
                            </div>

                            <!-- 4) Кнопки отправки и отмены -->
                            <div class="flex justify-end space-x-3">
                                <button
                                        type="button"
                                        id="cancelModalBtn"
                                        class="px-4 py-2 rounded border border-gray-400 text-gray-600 hover:bg-gray-100"
                                >
                                    Cancel
                                </button>
                                <button
                                        type="submit"
                                        class="px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700 font-semibold"
                                >
                                    Create
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </th:block>
        </div>

        <div class="restaurant-grid" id="restaurantGrid">
            <!-- Restaurant cards will be populated by JavaScript -->
        </div>
    </section>
</main>

<footer class="footer">
    <div class="footer-content">
        <div class="footer-section">
            <h3>About Whitable</h3>
            <p>Revolutionizing the dining experience through innovative reservation technology and exceptional service.</p>
            <div class="social-links">
                <a href="#"><i class="fab fa-facebook-f"></i></a>
                <a href="#"><i class="fab fa-twitter"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
                <a href="#"><i class="fab fa-linkedin-in"></i></a>
            </div>
        </div>
        <div class="footer-section">
            <h3>For Restaurants</h3>
            <ul>
                <li><a href="#">Partner With Us</a></li>
                <li><a href="#">Restaurant Dashboard</a></li>
                <li><a href="#">Success Stories</a></li>
                <li><a href="#">Marketing Tools</a></li>
            </ul>
        </div>
        <div class="footer-section">
            <h3>For Diners</h3>
            <ul>
                <li><a href="#">Search Restaurants</a></li>
                <li><a href="#">Loyalty Program</a></li>
                <li><a href="#">Mobile App</a></li>
                <li><a href="#">Gift Cards</a></li>
            </ul>
        </div>
        <div class="footer-section">
            <h3>Support</h3>
            <ul>
                <li><a href="#">Help Center</a></li>
                <li><a href="#">FAQs</a></li>
                <li><a href="#">Feedback</a></li>
            </ul>
        </div>
        <div class="footer-section">
            <h3>Legal</h3>
            <ul>
                <li><a href="#">Privacy Policy</a></li>
                <li><a href="#">Terms of Service</a></li>
                <li><a href="#">Cookie Policy</a></li>
                <li><a href="#">GDPR Compliance</a></li>
            </ul>
        </div>
    </div>
    <div class="footer-bottom">
        <p>&copy; 2024 Whitable. All rights reserved.</p>
        <div class="footer-bottom-links">
            <a href="#">Sitemap</a>
            <a href="#">Accessibility</a>
            <a href="#">Security</a>
            <a href="#">Press Kit</a>
        </div>
    </div>
</footer>
<script th:inline="javascript" defer>
    var isAdmin = '[(${isAdmin})]'; // Например: 'true' или 'false'
    isAdmin = (isAdmin === 'true');

    document.addEventListener('DOMContentLoaded', () => {
        const form = document.getElementById('createRestaurantForm'); // или другой способ получения формы
        if (!form) {
            console.error("Форма создания ресторана не найдена");
            return;
        }

        const addHoursBtn = document.getElementById('addHoursBtn');
        const openingHoursContainer = document.getElementById('openingHoursContainer');
        const daySelector = document.getElementById('daySelector');
        const timeInput = document.getElementById('timeInput');

        // Храним day/time в Map, где ключ — это день, значение — интервал
        const openingHours = new Map();

        // При клике на "Add" сохраняем в Map и обновляем отображение
        addHoursBtn.addEventListener('click', () => {
            const day = daySelector.value.trim();
            const time = timeInput.value.trim();

            if (!day || !time) {
                alert('Пожалуйста, выберите день и введите часы работы.');
                return;
            }

            // Добавляем или перезаписываем в Map
            openingHours.set(day, time);

            // Очищаем поле ввода
            timeInput.value = '';

            // Обновляем список в контейнере и скрытые поля
            updateOpeningHours();
        });

        // Основная функция для обновления и контейнера, и скрытых input'ов
        function updateOpeningHours() {
            // 1) Удаляем старые скрытые поля из формы
            form.querySelectorAll('input[name^="openingHours["]').forEach(elem => elem.remove());

            // 2) Очищаем визуальный контейнер
            openingHoursContainer.innerHTML = '';

            // 3) Проходимся по Map и для каждого дня/интервала:
            openingHours.forEach((time, day) => {
                // a) Создаём скрытый инпут, который пойдёт на сервер
                const hiddenInput = document.createElement('input');
                hiddenInput.type = 'hidden';
                hiddenInput.name = `openingHours[${day}]`;
                hiddenInput.value = time;
                form.appendChild(hiddenInput);

                // b) Создаём блок для наглядного отображения
                const entryDiv = document.createElement('div');
                entryDiv.classList.add('flex', 'items-center', 'justify-between', 'bg-gray-100', 'p-2', 'rounded');

                // c) Текст: "Понедельник: 10:00 - 18:00"
                const dayTimeText = document.createElement('span');
                dayTimeText.textContent = `${day}: ${time}`;
                entryDiv.appendChild(dayTimeText);

                // d) Кнопка для удаления записи
                const removeBtn = document.createElement('button');
                removeBtn.textContent = 'Удалить';
                removeBtn.classList.add('bg-red-500', 'text-white', 'px-2', 'py-1', 'rounded');
                removeBtn.addEventListener('click', () => {
                    // Удаляем запись из Map
                    openingHours.delete(day);
                    // Обновляем контейнер и поля формы
                    updateOpeningHours();
                });
                entryDiv.appendChild(removeBtn);

                // e) Добавляем весь блок в контейнер
                openingHoursContainer.appendChild(entryDiv);
            });
        }

        // Перед отправкой формы ещё раз актуализируем скрытые поля
        form.addEventListener('submit', () => {
            updateOpeningHours();
        });
    });


    // ---------- Modal Logic for "Create Restaurant" ----------

    // Получаем элементы
    const addRestaurantBtn = document.getElementById("addRestaurantBtn");
    const createRestaurantModal = document.getElementById("createRestaurantModal");
    const closeModalBtn = document.getElementById("closeModalBtn");
    const cancelModalBtn = document.getElementById("cancelModalBtn");
    const header = document.querySelector(".header"); // Находим header

    // Функция для открытия модалки
    function openModal() {
        createRestaurantModal.classList.remove("hidden");
        document.body.classList.add("body-modal-open");
        if (header) header.style.zIndex = "0"; // Ставим z-index для header
    }

    // Функция для закрытия модалки
    function closeModal() {
        createRestaurantModal.classList.add("hidden");
        document.body.classList.remove("body-modal-open");
        if (header) header.style.zIndex = "500"; // Возвращаем z-index для header
    }

    // Открыть модалку по кнопке "+"
    if (addRestaurantBtn) {
        addRestaurantBtn.addEventListener("click", openModal);
    }

    // Закрыть по кнопке "×"
    if (closeModalBtn) {
        closeModalBtn.addEventListener("click", closeModal);
    }

    // Закрыть по кнопке "Cancel"
    if (cancelModalBtn) {
        cancelModalBtn.addEventListener("click", closeModal);
    }

    /*
     Новый метод получения иконки для фич (на русском).
     Меняем названия под ваши реальные нужды:
     'Парковка', 'Wi-Fi', 'Доставка', 'Самовывоз' и т.д.
   */
    function getFeatureIcon(feature) {
        const icons = {
            'Парковка': '<i class="fas fa-parking"></i>',
            'Wi-Fi': '<i class="fas fa-wifi"></i>',
            'Доставка': '<i class="fas fa-motorcycle"></i>',
            'Самовывоз': '<i class="fas fa-shopping-bag"></i>'
        };
        return icons[feature] || '';
    }

    document.addEventListener('DOMContentLoaded', () => {
        const featureTags = document.querySelectorAll('.feature-tag');
        featureTags.forEach(tag => {
            const featureText = tag.innerText.trim();
            const iconHtml = getFeatureIcon(featureText);
            // подменяем содержимое на "иконка + пробел + название"
            tag.innerHTML = iconHtml + ' ' + featureText;
        });
    });

    const days = ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"];
    const errorEl = document.getElementById("hoursError");

    // Функция проверяет, что все дни отмечены как "Закрыто"
    function validateAtLeastOneOpenDay() {
        // Если для каждого дня чекбокс "Закрыто" отмечен, считаем, что нет открытых дней
        const allClosed = days.every(day => {
            const closed = document.getElementById(`${day.toLowerCase()}Closed`);
            return closed && closed.checked;
        });

        if (allClosed) {
            errorEl.classList.remove("hidden");
            return false;
        } else {
            errorEl.classList.add("hidden");
            return true;
        }
    }

    // Навешиваем обработчики на каждый чекбокс и селекты для обновления состояния
    days.forEach(day => {
        const dayLower = day.toLowerCase();
        const closedCheckbox = document.getElementById(`${dayLower}Closed`);
        const startSelect = document.getElementById(`${dayLower}Start`);
        const endSelect = document.getElementById(`${dayLower}End`);

        if (!closedCheckbox || !startSelect || !endSelect) return;

        // При изменении чекбокса
        closedCheckbox.addEventListener("change", () => {
            const isClosed = closedCheckbox.checked;
            startSelect.disabled = isClosed;
            endSelect.disabled = isClosed;

            // При активации "Закрыто" очищаем время и добавляем визуальное оформление
            if (isClosed) {
                startSelect.value = "";
                endSelect.value = "";
                startSelect.classList.add("bg-gray-100", "text-gray-500");
                endSelect.classList.add("bg-gray-100", "text-gray-500");
            } else {
                startSelect.classList.remove("bg-gray-100", "text-gray-500");
                endSelect.classList.remove("bg-gray-100", "text-gray-500");
            }
            validateAtLeastOneOpenDay();
        });

        // При изменении селектов – обновляем валидацию
        startSelect.addEventListener("change", validateAtLeastOneOpenDay);
        endSelect.addEventListener("change", validateAtLeastOneOpenDay);
    });

    // Проверка при отправке формы
    document.getElementById("createRestaurantForm").addEventListener("submit", (e) => {
        const isValid = validateAtLeastOneOpenDay();
        if (!isValid) {
            e.preventDefault(); // Блокируем отправку формы, если ошибка присутствует
        }
    });
</script>
<script type="module" src="/js/restaurants.js"></script>
</body>
</html>